{% extends 'chat_llm/base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <h2>File history</h2>
            <ul>
                {% for pdf in user_pdfs %}
                <li>
                    <a href=#>{{ pdf.title }}</a>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-md-9">
            <h2>Upload new PDF</h2>
            <form method="post" enctype="multipart/form-data" action="{% url 'upload_pdf' %}">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Upload</button>
            </form>
            <hr>
            <h2>Chat</h2>
            <ul>
                {% for chat_message in chat_history %}
                <li>
                    {{ chat_message.user.username }} ({{ chat_message.timestamp }}):<br>
                    Question: {{ chat_message.message }}<br>
                    Answer: {{ chat_message.answer }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
